(function(K,pt){typeof exports=="object"&&typeof module<"u"?pt(exports):typeof define=="function"&&define.amd?define(["exports"],pt):(K=typeof globalThis<"u"?globalThis:K||self,pt(K.flyoNitroIntegration={}))})(this,function(K){"use strict";function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rr(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var n=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,n.get?n:{enumerable:!0,get:function(){return t[o]}})}),r}var kt={exports:{}},se={exports:{}};(function(t){t.exports=e;function e(o){if(o)return r(o)}function r(o){for(var n in e.prototype)o[n]=e.prototype[n];return o}e.prototype.on=e.prototype.addEventListener=function(o,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(n),this},e.prototype.once=function(o,n){function i(){this.off(o,i),n.apply(this,arguments)}return i.fn=n,this.on(o,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(o,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+o];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var a,s=0;s<i.length;s++)if(a=i[s],a===n||a.fn===n){i.splice(s,1);break}return i.length===0&&delete this._callbacks["$"+o],this},e.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),i=this._callbacks["$"+o],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(i){i=i.slice(0);for(var a=0,s=i.length;a<s;++a)i[a].apply(this,n)}return this},e.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},e.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(se);var or=se.exports,nr=ft;ft.default=ft,ft.stable=ce,ft.stableStringify=ce;var vt="[...]",le="[Circular]",X=[],Z=[];function ue(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ft(t,e,r,o){typeof o>"u"&&(o=ue()),Rt(t,"",0,[],void 0,0,o);var n;try{Z.length===0?n=JSON.stringify(t,e,r):n=JSON.stringify(t,pe(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;X.length!==0;){var i=X.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return n}function rt(t,e,r,o){var n=Object.getOwnPropertyDescriptor(o,r);n.get!==void 0?n.configurable?(Object.defineProperty(o,r,{value:t}),X.push([o,r,e,n])):Z.push([e,r,t]):(o[r]=t,X.push([o,r,e]))}function Rt(t,e,r,o,n,i,a){i+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<o.length;s++)if(o[s]===t){rt(le,t,e,n);return}if(typeof a.depthLimit<"u"&&i>a.depthLimit){rt(vt,t,e,n);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){rt(vt,t,e,n);return}if(o.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Rt(t[s],s,s,o,t,i,a);else{var u=Object.keys(t);for(s=0;s<u.length;s++){var f=u[s];Rt(t[f],f,s,o,t,i,a)}}o.pop()}}function ir(t,e){return t<e?-1:t>e?1:0}function ce(t,e,r,o){typeof o>"u"&&(o=ue());var n=Ct(t,"",0,[],void 0,0,o)||t,i;try{Z.length===0?i=JSON.stringify(n,e,r):i=JSON.stringify(n,pe(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;X.length!==0;){var a=X.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function Ct(t,e,r,o,n,i,a){i+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<o.length;s++)if(o[s]===t){rt(le,t,e,n);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof a.depthLimit<"u"&&i>a.depthLimit){rt(vt,t,e,n);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){rt(vt,t,e,n);return}if(o.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Ct(t[s],s,s,o,t,i,a);else{var u={},f=Object.keys(t).sort(ir);for(s=0;s<f.length;s++){var b=f[s];Ct(t[b],b,s,o,t,i,a),u[b]=t[b]}if(typeof n<"u")X.push([n,e,t]),n[e]=u;else return u}o.pop()}}function pe(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Z.length>0)for(var o=0;o<Z.length;o++){var n=Z[o];if(n[1]===e&&n[0]===r){r=n[2],Z.splice(o,1);break}}return t.call(this,e,r)}}var ar=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[e]=o;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var n=Object.getOwnPropertySymbols(t);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(t,e);if(i.value!==o||i.enumerable!==!0)return!1}return!0},fe=typeof Symbol<"u"&&Symbol,sr=ar,lr=function(){return typeof fe!="function"||typeof Symbol!="function"||typeof fe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:sr()},ur="Function.prototype.bind called on incompatible ",cr=Object.prototype.toString,pr=Math.max,fr="[object Function]",ye=function(t,e){for(var r=[],o=0;o<t.length;o+=1)r[o]=t[o];for(var n=0;n<e.length;n+=1)r[n+t.length]=e[n];return r},yr=function(t,e){for(var r=[],o=e||0,n=0;o<t.length;o+=1,n+=1)r[n]=t[o];return r},hr=function(t,e){for(var r="",o=0;o<t.length;o+=1)r+=t[o],o+1<t.length&&(r+=e);return r},dr=function(t){var e=this;if(typeof e!="function"||cr.apply(e)!==fr)throw new TypeError(ur+e);for(var r=yr(arguments,1),o,n=function(){if(this instanceof o){var f=e.apply(this,ye(r,arguments));return Object(f)===f?f:this}return e.apply(t,ye(r,arguments))},i=pr(0,e.length-r.length),a=[],s=0;s<i;s++)a[s]="$"+s;if(o=Function("binder","return function ("+hr(a,",")+"){ return binder.apply(this,arguments); }")(n),e.prototype){var u=function(){};u.prototype=e.prototype,o.prototype=new u,u.prototype=null}return o},mr=dr,It=Function.prototype.bind||mr,br=It,gr=br.call(Function.call,Object.prototype.hasOwnProperty),A,ot=SyntaxError,he=Function,nt=TypeError,Nt=function(t){try{return he('"use strict"; return ('+t+").constructor;")()}catch{}},Y=Object.getOwnPropertyDescriptor;if(Y)try{Y({},"")}catch{Y=null}var Ft=function(){throw new nt},vr=Y?function(){try{return arguments.callee,Ft}catch{try{return Y(arguments,"callee").get}catch{return Ft}}}():Ft,it=lr(),M=Object.getPrototypeOf||function(t){return t.__proto__},at={},wr=typeof Uint8Array>"u"?A:M(Uint8Array),tt={"%AggregateError%":typeof AggregateError>"u"?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?A:ArrayBuffer,"%ArrayIteratorPrototype%":it?M([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":at,"%AsyncGenerator%":at,"%AsyncGeneratorFunction%":at,"%AsyncIteratorPrototype%":at,"%Atomics%":typeof Atomics>"u"?A:Atomics,"%BigInt%":typeof BigInt>"u"?A:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?A:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?A:Float32Array,"%Float64Array%":typeof Float64Array>"u"?A:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?A:FinalizationRegistry,"%Function%":he,"%GeneratorFunction%":at,"%Int8Array%":typeof Int8Array>"u"?A:Int8Array,"%Int16Array%":typeof Int16Array>"u"?A:Int16Array,"%Int32Array%":typeof Int32Array>"u"?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":it?M(M([][Symbol.iterator]())):A,"%JSON%":typeof JSON=="object"?JSON:A,"%Map%":typeof Map>"u"?A:Map,"%MapIteratorPrototype%":typeof Map>"u"||!it?A:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?A:Promise,"%Proxy%":typeof Proxy>"u"?A:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?A:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?A:Set,"%SetIteratorPrototype%":typeof Set>"u"||!it?A:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":it?M(""[Symbol.iterator]()):A,"%Symbol%":it?Symbol:A,"%SyntaxError%":ot,"%ThrowTypeError%":vr,"%TypedArray%":wr,"%TypeError%":nt,"%Uint8Array%":typeof Uint8Array>"u"?A:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?A:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?A:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?A:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?A:WeakMap,"%WeakRef%":typeof WeakRef>"u"?A:WeakRef,"%WeakSet%":typeof WeakSet>"u"?A:WeakSet};try{null.error}catch(t){var Sr=M(M(t));tt["%Error.prototype%"]=Sr}var Ar=function t(e){var r;if(e==="%AsyncFunction%")r=Nt("async function () {}");else if(e==="%GeneratorFunction%")r=Nt("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Nt("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&(r=M(n.prototype))}return tt[e]=r,r},de={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yt=It,wt=gr,_r=yt.call(Function.call,Array.prototype.concat),Or=yt.call(Function.apply,Array.prototype.splice),me=yt.call(Function.call,String.prototype.replace),St=yt.call(Function.call,String.prototype.slice),Er=yt.call(Function.call,RegExp.prototype.exec),jr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Tr=/\\(\\)?/g,Pr=function(t){var e=St(t,0,1),r=St(t,-1);if(e==="%"&&r!=="%")throw new ot("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new ot("invalid intrinsic syntax, expected opening `%`");var o=[];return me(t,jr,function(n,i,a,s){o[o.length]=a?me(s,Tr,"$1"):i||n}),o},xr=function(t,e){var r=t,o;if(wt(de,r)&&(o=de[r],r="%"+o[0]+"%"),wt(tt,r)){var n=tt[r];if(n===at&&(n=Ar(r)),typeof n>"u"&&!e)throw new nt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:n}}throw new ot("intrinsic "+t+" does not exist!")},Ut=function(t,e){if(typeof t!="string"||t.length===0)throw new nt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new nt('"allowMissing" argument must be a boolean');if(Er(/^%?[^%]*%?$/,t)===null)throw new ot("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Pr(t),o=r.length>0?r[0]:"",n=xr("%"+o+"%",e),i=n.name,a=n.value,s=!1,u=n.alias;u&&(o=u[0],Or(r,_r([0,1],u)));for(var f=1,b=!0;f<r.length;f+=1){var v=r[f],m=St(v,0,1),S=St(v,-1);if((m==='"'||m==="'"||m==="`"||S==='"'||S==="'"||S==="`")&&m!==S)throw new ot("property names with quotes must have matching quotes");if((v==="constructor"||!b)&&(s=!0),o+="."+v,i="%"+o+"%",wt(tt,i))a=tt[i];else if(a!=null){if(!(v in a)){if(!e)throw new nt("base intrinsic for "+t+" exists, but the property is not available.");return}if(Y&&f+1>=r.length){var w=Y(a,v);b=!!w,b&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[v]}else b=wt(a,v),a=a[v];b&&!s&&(tt[i]=a)}}return a},be={exports:{}};(function(t){var e=It,r=Ut,o=r("%Function.prototype.apply%"),n=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(n,o),a=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}t.exports=function(b){var v=i(e,n,arguments);if(a&&s){var m=a(v,"length");m.configurable&&s(v,"length",{value:1+u(0,b.length-(arguments.length-1))})}return v};var f=function(){return i(e,o,arguments)};s?s(t.exports,"apply",{value:f}):t.exports.apply=f})(be);var kr=be.exports,ge=Ut,ve=kr,Rr=ve(ge("String.prototype.indexOf")),Cr=function(t,e){var r=ge(t,!!e);return typeof r=="function"&&Rr(t,".prototype.")>-1?ve(r):r};const we={},Ir=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Se=rr(Ir);var Dt=typeof Map=="function"&&Map.prototype,Lt=Object.getOwnPropertyDescriptor&&Dt?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,At=Dt&&Lt&&typeof Lt.get=="function"?Lt.get:null,Ae=Dt&&Map.prototype.forEach,Mt=typeof Set=="function"&&Set.prototype,qt=Object.getOwnPropertyDescriptor&&Mt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_t=Mt&&qt&&typeof qt.get=="function"?qt.get:null,_e=Mt&&Set.prototype.forEach,Nr=typeof WeakMap=="function"&&WeakMap.prototype,ht=Nr?WeakMap.prototype.has:null,Fr=typeof WeakSet=="function"&&WeakSet.prototype,dt=Fr?WeakSet.prototype.has:null,Ur=typeof WeakRef=="function"&&WeakRef.prototype,Oe=Ur?WeakRef.prototype.deref:null,Dr=Boolean.prototype.valueOf,Lr=Object.prototype.toString,Mr=Function.prototype.toString,qr=String.prototype.match,Bt=String.prototype.slice,G=String.prototype.replace,Br=String.prototype.toUpperCase,Ee=String.prototype.toLowerCase,je=RegExp.prototype.test,Te=Array.prototype.concat,q=Array.prototype.join,zr=Array.prototype.slice,Pe=Math.floor,zt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ht=Object.getOwnPropertySymbols,$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,st=typeof Symbol=="function"&&typeof Symbol.iterator=="object",C=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===st||!0)?Symbol.toStringTag:null,xe=Object.prototype.propertyIsEnumerable,ke=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Re(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||je.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var o=t<0?-Pe(-t):Pe(t);if(o!==t){var n=String(o),i=Bt.call(e,n.length+1);return G.call(n,r,"$&_")+"."+G.call(G.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return G.call(e,r,"$&_")}var Wt=Se,Ce=Wt.custom,Ie=Ue(Ce)?Ce:null,Hr=function t(e,r,o,n){var i=r||{};if(J(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(J(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=J(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(J(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(J(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Le(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return s?Re(e,u):u}if(typeof e=="bigint"){var f=String(e)+"n";return s?Re(e,f):f}var b=typeof i.depth>"u"?5:i.depth;if(typeof o>"u"&&(o=0),o>=b&&b>0&&typeof e=="object")return Gt(e)?"[Array]":"[Object]";var v=so(i,o);if(typeof n>"u")n=[];else if(De(n,e)>=0)return"[Circular]";function m(l,c,p){if(c&&(n=zr.call(n),n.push(c)),p){var y={depth:i.depth};return J(i,"quoteStyle")&&(y.quoteStyle=i.quoteStyle),t(l,y,o+1,n)}return t(l,i,o+1,n)}if(typeof e=="function"&&!Fe(e)){var S=Zr(e),w=Ot(e,m);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(w.length>0?" { "+q.call(w,", ")+" }":"")}if(Ue(e)){var I=st?G.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$t.call(e);return typeof e=="object"&&!st?mt(I):I}if(no(e)){for(var k="<"+Ee.call(String(e.nodeName)),h=e.attributes||[],R=0;R<h.length;R++)k+=" "+h[R].name+"="+Ne($r(h[R].value),"double",i);return k+=">",e.childNodes&&e.childNodes.length&&(k+="..."),k+="</"+Ee.call(String(e.nodeName))+">",k}if(Gt(e)){if(e.length===0)return"[]";var F=Ot(e,m);return v&&!ao(F)?"["+Vt(F,v)+"]":"[ "+q.call(F,", ")+" ]"}if(Gr(e)){var E=Ot(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!xe.call(e,"cause")?"{ ["+String(e)+"] "+q.call(Te.call("[cause]: "+m(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+q.call(E,", ")+" }"}if(typeof e=="object"&&a){if(Ie&&typeof e[Ie]=="function"&&Wt)return Wt(e,{depth:b-o});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Yr(e)){var U=[];return Ae&&Ae.call(e,function(l,c){U.push(m(c,e,!0)+" => "+m(l,e))}),Me("Map",At.call(e),U,v)}if(ro(e)){var z=[];return _e&&_e.call(e,function(l){z.push(m(l,e))}),Me("Set",_t.call(e),z,v)}if(to(e))return Jt("WeakMap");if(oo(e))return Jt("WeakSet");if(eo(e))return Jt("WeakRef");if(Vr(e))return mt(m(Number(e)));if(Kr(e))return mt(m(zt.call(e)));if(Qr(e))return mt(Dr.call(e));if(Jr(e))return mt(m(String(e)));if(!Wr(e)&&!Fe(e)){var j=Ot(e,m),P=ke?ke(e)===Object.prototype:e instanceof Object||e.constructor===Object,_=e instanceof Object?"":"null prototype",L=!P&&C&&Object(e)===e&&C in e?Bt.call(V(e),8,-1):_?"Object":"",H=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",W=H+(L||_?"["+q.call(Te.call([],L||[],_||[]),": ")+"] ":"");return j.length===0?W+"{}":v?W+"{"+Vt(j,v)+"}":W+"{ "+q.call(j,", ")+" }"}return String(e)};function Ne(t,e,r){var o=(r.quoteStyle||e)==="double"?'"':"'";return o+t+o}function $r(t){return G.call(String(t),/"/g,"&quot;")}function Gt(t){return V(t)==="[object Array]"&&(!C||!(typeof t=="object"&&C in t))}function Wr(t){return V(t)==="[object Date]"&&(!C||!(typeof t=="object"&&C in t))}function Fe(t){return V(t)==="[object RegExp]"&&(!C||!(typeof t=="object"&&C in t))}function Gr(t){return V(t)==="[object Error]"&&(!C||!(typeof t=="object"&&C in t))}function Jr(t){return V(t)==="[object String]"&&(!C||!(typeof t=="object"&&C in t))}function Vr(t){return V(t)==="[object Number]"&&(!C||!(typeof t=="object"&&C in t))}function Qr(t){return V(t)==="[object Boolean]"&&(!C||!(typeof t=="object"&&C in t))}function Ue(t){if(st)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$t)return!1;try{return $t.call(t),!0}catch{}return!1}function Kr(t){if(!t||typeof t!="object"||!zt)return!1;try{return zt.call(t),!0}catch{}return!1}var Xr=Object.prototype.hasOwnProperty||function(t){return t in this};function J(t,e){return Xr.call(t,e)}function V(t){return Lr.call(t)}function Zr(t){if(t.name)return t.name;var e=qr.call(Mr.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function De(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function Yr(t){if(!At||!t||typeof t!="object")return!1;try{At.call(t);try{_t.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function to(t){if(!ht||!t||typeof t!="object")return!1;try{ht.call(t,ht);try{dt.call(t,dt)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function eo(t){if(!Oe||!t||typeof t!="object")return!1;try{return Oe.call(t),!0}catch{}return!1}function ro(t){if(!_t||!t||typeof t!="object")return!1;try{_t.call(t);try{At.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function oo(t){if(!dt||!t||typeof t!="object")return!1;try{dt.call(t,dt);try{ht.call(t,ht)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function no(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Le(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return Le(Bt.call(t,0,e.maxStringLength),e)+o}var n=G.call(G.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,io);return Ne(n,"single",e)}function io(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Br.call(e.toString(16))}function mt(t){return"Object("+t+")"}function Jt(t){return t+" { ? }"}function Me(t,e,r,o){var n=o?Vt(r,o):q.call(r,", ");return t+" ("+e+") {"+n+"}"}function ao(t){for(var e=0;e<t.length;e++)if(De(t[e],`
`)>=0)return!1;return!0}function so(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=q.call(Array(t.indent+1)," ");else return null;return{base:r,prev:q.call(Array(e+1),r)}}function Vt(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+q.call(t,","+r)+`
`+e.prev}function Ot(t,e){var r=Gt(t),o=[];if(r){o.length=t.length;for(var n=0;n<t.length;n++)o[n]=J(t,n)?e(t[n],t):""}var i=typeof Ht=="function"?Ht(t):[],a;if(st){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var u in t)J(t,u)&&(r&&String(Number(u))===u&&u<t.length||st&&a["$"+u]instanceof Symbol||(je.call(/[^\w$]/,u)?o.push(e(u,t)+": "+e(t[u],t)):o.push(u+": "+e(t[u],t))));if(typeof Ht=="function")for(var f=0;f<i.length;f++)xe.call(t,i[f])&&o.push("["+e(i[f])+"]: "+e(t[i[f]],t));return o}var Qt=Ut,lt=Cr,lo=Hr,uo=Qt("%TypeError%"),Et=Qt("%WeakMap%",!0),jt=Qt("%Map%",!0),co=lt("WeakMap.prototype.get",!0),po=lt("WeakMap.prototype.set",!0),fo=lt("WeakMap.prototype.has",!0),yo=lt("Map.prototype.get",!0),ho=lt("Map.prototype.set",!0),mo=lt("Map.prototype.has",!0),Kt=function(t,e){for(var r=t,o;(o=r.next)!==null;r=o)if(o.key===e)return r.next=o.next,o.next=t.next,t.next=o,o},bo=function(t,e){var r=Kt(t,e);return r&&r.value},go=function(t,e,r){var o=Kt(t,e);o?o.value=r:t.next={key:e,next:t.next,value:r}},vo=function(t,e){return!!Kt(t,e)},wo=function(){var t,e,r,o={assert:function(n){if(!o.has(n))throw new uo("Side channel does not contain "+lo(n))},get:function(n){if(Et&&n&&(typeof n=="object"||typeof n=="function")){if(t)return co(t,n)}else if(jt){if(e)return yo(e,n)}else if(r)return bo(r,n)},has:function(n){if(Et&&n&&(typeof n=="object"||typeof n=="function")){if(t)return fo(t,n)}else if(jt){if(e)return mo(e,n)}else if(r)return vo(r,n);return!1},set:function(n,i){Et&&n&&(typeof n=="object"||typeof n=="function")?(t||(t=new Et),po(t,n,i)):jt?(e||(e=new jt),ho(e,n,i)):(r||(r={key:{},next:null}),go(r,n,i))}};return o},So=String.prototype.replace,Ao=/%20/g,Xt={RFC1738:"RFC1738",RFC3986:"RFC3986"},Zt={default:Xt.RFC3986,formatters:{RFC1738:function(t){return So.call(t,Ao,"+")},RFC3986:function(t){return String(t)}},RFC1738:Xt.RFC1738,RFC3986:Xt.RFC3986},_o=Zt,Yt=Object.prototype.hasOwnProperty,et=Array.isArray,B=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Oo=function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(et(r)){for(var o=[],n=0;n<r.length;++n)typeof r[n]<"u"&&o.push(r[n]);e.obj[e.prop]=o}}},qe=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},o=0;o<t.length;++o)typeof t[o]<"u"&&(r[o]=t[o]);return r},Eo=function t(e,r,o){if(!r)return e;if(typeof r!="object"){if(et(e))e.push(r);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!Yt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return et(e)&&!et(r)&&(n=qe(e,o)),et(e)&&et(r)?(r.forEach(function(i,a){if(Yt.call(e,a)){var s=e[a];s&&typeof s=="object"&&i&&typeof i=="object"?e[a]=t(s,i,o):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var s=r[a];return Yt.call(i,a)?i[a]=t(i[a],s,o):i[a]=s,i},n)},jo=function(t,e){return Object.keys(e).reduce(function(r,o){return r[o]=e[o],r},t)},To=function(t,e,r){var o=t.replace(/\+/g," ");if(r==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},Po=function(t,e,r,o,n){if(t.length===0)return t;var i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",s=0;s<i.length;++s){var u=i.charCodeAt(s);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||n===_o.RFC1738&&(u===40||u===41)){a+=i.charAt(s);continue}if(u<128){a=a+B[u];continue}if(u<2048){a=a+(B[192|u>>6]+B[128|u&63]);continue}if(u<55296||u>=57344){a=a+(B[224|u>>12]+B[128|u>>6&63]+B[128|u&63]);continue}s+=1,u=65536+((u&1023)<<10|i.charCodeAt(s)&1023),a+=B[240|u>>18]+B[128|u>>12&63]+B[128|u>>6&63]+B[128|u&63]}return a},xo=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],o=0;o<e.length;++o)for(var n=e[o],i=n.obj[n.prop],a=Object.keys(i),s=0;s<a.length;++s){var u=a[s],f=i[u];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(e.push({obj:i,prop:u}),r.push(f))}return Oo(e),t},ko=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Ro=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Co=function(t,e){return[].concat(t,e)},Io=function(t,e){if(et(t)){for(var r=[],o=0;o<t.length;o+=1)r.push(e(t[o]));return r}return e(t)},Be={arrayToObject:qe,assign:jo,combine:Co,compact:xo,decode:To,encode:Po,isBuffer:Ro,isRegExp:ko,maybeMap:Io,merge:Eo},ze=wo,te=Be,bt=Zt,No=Object.prototype.hasOwnProperty,He={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},$=Array.isArray,Fo=String.prototype.split,Uo=Array.prototype.push,$e=function(t,e){Uo.apply(t,$(e)?e:[e])},Do=Date.prototype.toISOString,We=bt.default,x={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:te.encode,encodeValuesOnly:!1,format:We,formatter:bt.formatters[We],indices:!1,serializeDate:function(t){return Do.call(t)},skipNulls:!1,strictNullHandling:!1},Lo=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},ee={},Mo=function t(e,r,o,n,i,a,s,u,f,b,v,m,S,w,I,k){for(var h=e,R=k,F=0,E=!1;(R=R.get(ee))!==void 0&&!E;){var U=R.get(e);if(F+=1,typeof U<"u"){if(U===F)throw new RangeError("Cyclic object value");E=!0}typeof R.get(ee)>"u"&&(F=0)}if(typeof u=="function"?h=u(r,h):h instanceof Date?h=v(h):o==="comma"&&$(h)&&(h=te.maybeMap(h,function(N){return N instanceof Date?v(N):N})),h===null){if(i)return s&&!w?s(r,x.encoder,I,"key",m):r;h=""}if(Lo(h)||te.isBuffer(h)){if(s){var z=w?r:s(r,x.encoder,I,"key",m);if(o==="comma"&&w){for(var j=Fo.call(String(h),","),P="",_=0;_<j.length;++_)P+=(_===0?"":",")+S(s(j[_],x.encoder,I,"value",m));return[S(z)+(n&&$(h)&&j.length===1?"[]":"")+"="+P]}return[S(z)+"="+S(s(h,x.encoder,I,"value",m))]}return[S(r)+"="+S(String(h))]}var L=[];if(typeof h>"u")return L;var H;if(o==="comma"&&$(h))H=[{value:h.length>0?h.join(",")||null:void 0}];else if($(u))H=u;else{var W=Object.keys(h);H=f?W.sort(f):W}for(var l=n&&$(h)&&h.length===1?r+"[]":r,c=0;c<H.length;++c){var p=H[c],y=typeof p=="object"&&typeof p.value<"u"?p.value:h[p];if(!(a&&y===null)){var d=$(h)?typeof o=="function"?o(l,p):l:l+(b?"."+p:"["+p+"]");k.set(e,F);var g=ze();g.set(ee,k),$e(L,t(y,d,o,n,i,a,s,u,f,b,v,m,S,w,I,g))}}return L},qo=function(t){if(!t)return x;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=t.charset||x.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=bt.default;if(typeof t.format<"u"){if(!No.call(bt.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var o=bt.formatters[r],n=x.filter;return(typeof t.filter=="function"||$(t.filter))&&(n=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:x.addQueryPrefix,allowDots:typeof t.allowDots>"u"?x.allowDots:!!t.allowDots,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:x.charsetSentinel,delimiter:typeof t.delimiter>"u"?x.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:x.encode,encoder:typeof t.encoder=="function"?t.encoder:x.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:x.encodeValuesOnly,filter:n,format:r,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:x.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:x.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:x.strictNullHandling}},Bo=function(t,e){var r=t,o=qo(e),n,i;typeof o.filter=="function"?(i=o.filter,r=i("",r)):$(o.filter)&&(i=o.filter,n=i);var a=[];if(typeof r!="object"||r===null)return"";var s;e&&e.arrayFormat in He?s=e.arrayFormat:e&&"indices"in e?s=e.indices?"indices":"repeat":s="indices";var u=He[s];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=u==="comma"&&e&&e.commaRoundTrip;n||(n=Object.keys(r)),o.sort&&n.sort(o.sort);for(var b=ze(),v=0;v<n.length;++v){var m=n[v];o.skipNulls&&r[m]===null||$e(a,Mo(r[m],m,u,f,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,b))}var S=a.join(o.delimiter),w=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),S.length>0?w+S:""},ut=Be,re=Object.prototype.hasOwnProperty,zo=Array.isArray,T={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ut.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ho=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ge=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},$o="utf8=%26%2310003%3B",Wo="utf8=%E2%9C%93",Go=function(t,e){var r={},o=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,n=e.parameterLimit===1/0?void 0:e.parameterLimit,i=o.split(e.delimiter,n),a=-1,s,u=e.charset;if(e.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===Wo?u="utf-8":i[s]===$o&&(u="iso-8859-1"),a=s,s=i.length);for(s=0;s<i.length;++s)if(s!==a){var f=i[s],b=f.indexOf("]="),v=b===-1?f.indexOf("="):b+1,m,S;v===-1?(m=e.decoder(f,T.decoder,u,"key"),S=e.strictNullHandling?null:""):(m=e.decoder(f.slice(0,v),T.decoder,u,"key"),S=ut.maybeMap(Ge(f.slice(v+1),e),function(w){return e.decoder(w,T.decoder,u,"value")})),S&&e.interpretNumericEntities&&u==="iso-8859-1"&&(S=Ho(S)),f.indexOf("[]=")>-1&&(S=zo(S)?[S]:S),re.call(r,m)?r[m]=ut.combine(r[m],S):r[m]=S}return r},Jo=function(t,e,r,o){for(var n=o?e:Ge(e,r),i=t.length-1;i>=0;--i){var a,s=t[i];if(s==="[]"&&r.parseArrays)a=[].concat(n);else{a=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,f=parseInt(u,10);!r.parseArrays&&u===""?a={0:n}:!isNaN(f)&&s!==u&&String(f)===u&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(a=[],a[f]=n):u!=="__proto__"&&(a[u]=n)}n=a}return n},Vo=function(t,e,r,o){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=r.depth>0&&i.exec(n),u=s?n.slice(0,s.index):n,f=[];if(u){if(!r.plainObjects&&re.call(Object.prototype,u)&&!r.allowPrototypes)return;f.push(u)}for(var b=0;r.depth>0&&(s=a.exec(n))!==null&&b<r.depth;){if(b+=1,!r.plainObjects&&re.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(s[1])}return s&&f.push("["+n.slice(s.index)+"]"),Jo(f,e,r,o)}},Qo=function(t){if(!t)return T;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=typeof t.charset>"u"?T.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?T.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:T.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:T.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:T.arrayLimit,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:T.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:T.comma,decoder:typeof t.decoder=="function"?t.decoder:T.decoder,delimiter:typeof t.delimiter=="string"||ut.isRegExp(t.delimiter)?t.delimiter:T.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:T.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:T.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:T.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:T.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:T.strictNullHandling}},Ko=function(t,e){var r=Qo(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var o=typeof t=="string"?Go(t,r):t,n=r.plainObjects?Object.create(null):{},i=Object.keys(o),a=0;a<i.length;++a){var s=i[a],u=Vo(s,o[s],r,typeof t=="string");n=ut.merge(n,u,r)}return r.allowSparse===!0?n:ut.compact(n)},Xo=Bo,Zo=Ko,Yo=Zt,tn={formats:Yo,parse:Zo,stringify:Xo},Tt={};(function(t){function e(n,i){var a=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=r(n))||i&&n&&typeof n.length=="number"){a&&(n=a);var s=0,u=function(){};return{s:u,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(m){throw m},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,b=!1,v;return{s:function(){a=a.call(n)},n:function(){var m=a.next();return f=m.done,m},e:function(m){b=!0,v=m},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(b)throw v}}}}function r(n,i){if(n){if(typeof n=="string")return o(n,i);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(n,i)}}function o(n,i){(i==null||i>n.length)&&(i=n.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=n[a];return s}t.type=n=>n.split(/ *; */).shift(),t.params=n=>{const i={};var a=e(n.split(/ *; */)),s;try{for(a.s();!(s=a.n()).done;){const u=s.value.split(/ *= */),f=u.shift(),b=u.shift();f&&b&&(i[f]=b)}}catch(u){a.e(u)}finally{a.f()}return i},t.parseLinks=n=>{const i={};var a=e(n.split(/ *, */)),s;try{for(a.s();!(s=a.n()).done;){const u=s.value.split(/ *; */),f=u[0].slice(1,-1),b=u[1].split(/ *= */)[1].slice(1,-1);i[b]=f}}catch(u){a.e(u)}finally{a.f()}return i},t.cleanHeader=(n,i)=>(delete n["content-type"],delete n["content-length"],delete n["transfer-encoding"],delete n.host,i&&(delete n.authorization,delete n.cookie),n),t.isObject=n=>n!==null&&typeof n=="object",t.hasOwn=Object.hasOwn||function(n,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(n),i)},t.mixin=(n,i)=>{for(const a in i)t.hasOwn(i,a)&&(n[a]=i[a])}})(Tt);const Je=Se,Ve=Tt,Pt=Ve.isObject,gt=Ve.hasOwn;var en=O;function O(){}O.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},O.prototype.parse=function(t){return this._parser=t,this},O.prototype.responseType=function(t){return this._responseType=t,this},O.prototype.serialize=function(t){return this._serializer=t,this},O.prototype.timeout=function(t){if(!t||typeof t!="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(const e in t)if(gt(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},O.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};const rn=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),on=new Set([408,413,429,500,502,503,504,521,522,524]);O.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(r){console.error(r)}return!!(e&&e.status&&on.has(e.status)||t&&(t.code&&rn.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))},O.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},O.prototype.then=function(t,e){if(!this._fullfilledPromise){const r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((o,n)=>{r.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError){n(this.timedoutError);return}const i=new Error("Aborted");i.code="ABORTED",i.status=this.status,i.method=this.method,i.url=this.url,n(i)}),r.end((i,a)=>{i?n(i):o(a)})})}return this._fullfilledPromise.then(t,e)},O.prototype.catch=function(t){return this.then(void 0,t)},O.prototype.use=function(t){return t(this),this},O.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this},O.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1},O.prototype.get=function(t){return this._header[t.toLowerCase()]},O.prototype.getHeader=O.prototype.get,O.prototype.set=function(t,e){if(Pt(t)){for(const r in t)gt(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},O.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},O.prototype.field=function(t,e,r){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(Pt(t)){for(const o in t)gt(t,o)&&this.field(o,t[o]);return this}if(Array.isArray(e)){for(const o in e)gt(e,o)&&this.field(t,e[o]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this},O.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(Je.gte(process.version,"v13.0.0")&&Je.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},O.prototype._auth=function(t,e,r,o){switch(r.type){case"basic":this.set("Authorization",`Basic ${o(`${t}:${e}`)}`);break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization",`Bearer ${t}`);break}return this},O.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this},O.prototype.redirects=function(t){return this._maxRedirects=t,this},O.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},O.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},O.prototype.send=function(t){const e=Pt(t);let r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&Pt(this._data))for(const o in t){if(typeof t[o]=="bigint"&&!t[o].toJSON)throw new Error("Cannot serialize BigInt value to json");gt(t,o)&&(this._data[o]=t[o])}else{if(typeof t=="bigint")throw new Error("Cannot send value of type BigInt");typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?`${this._data}&${t}`:t:this._data=(this._data||"")+t):this._data=t}return!e||this._isHost(t)?this:(r||this.type("json"),this)},O.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this},O.prototype._finalizeQueryString=function(){const t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){const e=this.url.indexOf("?");if(e>=0){const r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}},O.prototype._appendQueryString=()=>{console.warn("Unsupported")},O.prototype._timeoutError=function(t,e,r){if(this._aborted)return;const o=new Error(`${t+e}ms exceeded`);o.timeout=e,o.code="ECONNABORTED",o.errno=r,this.timedout=!0,this.timedoutError=o,this.abort(),this.callback(o)},O.prototype._setTimeouts=function(){const t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};const oe=Tt;var nn=xt;function xt(){}xt.prototype.get=function(t){return this.header[t.toLowerCase()]},xt.prototype._setHeaderProperties=function(t){const e=t["content-type"]||"";this.type=oe.type(e);const r=oe.params(e);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(this[o]=r[o]);this.links={};try{t.link&&(this.links=oe.parseLinks(t.link))}catch{}},xt.prototype._setStatusProperties=function(t){const e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422};function an(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=sn(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return i=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}}}function sn(t,e){if(t){if(typeof t=="string")return Qe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qe(t,e)}}function Qe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function ne(){this._defaults=[]}for(var ie=0,Ke=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];ie<Ke.length;ie++){const t=Ke[ie];ne.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return this._defaults.push({fn:t,args:r}),this}}ne.prototype._setDefaults=function(t){var e=an(this._defaults),r;try{for(e.s();!(r=e.n()).done;){const o=r.value;t[o.fn](...o.args)}}catch(o){e.e(o)}finally{e.f()}};var ln=ne;(function(t,e){function r(l,c){var p=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!p){if(Array.isArray(l)||(p=o(l))||c&&l&&typeof l.length=="number"){p&&(l=p);var y=0,d=function(){};return{s:d,n:function(){return y>=l.length?{done:!0}:{done:!1,value:l[y++]}},e:function(Q){throw Q},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=!0,N=!1,ct;return{s:function(){p=p.call(l)},n:function(){var Q=p.next();return g=Q.done,Q},e:function(Q){N=!0,ct=Q},f:function(){try{!g&&p.return!=null&&p.return()}finally{if(N)throw ct}}}}function o(l,c){if(l){if(typeof l=="string")return n(l,c);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return n(l,c)}}function n(l,c){(c==null||c>l.length)&&(c=l.length);for(var p=0,y=new Array(c);p<c;p++)y[p]=l[p];return y}let i;typeof window<"u"?i=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),i=void 0):i=self;const a=or,s=nr,u=tn,f=en,b=Tt,v=b.isObject,m=b.mixin,S=b.hasOwn,w=nn,I=ln;function k(){}t.exports=function(l,c){return typeof c=="function"?new e.Request("GET",l).end(c):arguments.length===1?new e.Request("GET",l):new e.Request(l,c)},e=t.exports;const h=e;e.Request=_,h.getXHR=()=>{if(i.XMLHttpRequest)return new i.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};const R="".trim?l=>l.trim():l=>l.replace(/(^\s*|\s*$)/g,"");function F(l){if(!v(l))return l;const c=[];for(const p in l)S(l,p)&&E(c,p,l[p]);return c.join("&")}function E(l,c,p){if(p!==void 0){if(p===null){l.push(encodeURI(c));return}if(Array.isArray(p)){var y=r(p),d;try{for(y.s();!(d=y.n()).done;){const g=d.value;E(l,c,g)}}catch(g){y.e(g)}finally{y.f()}}else if(v(p))for(const g in p)S(p,g)&&E(l,`${c}[${g}]`,p[g]);else l.push(encodeURI(c)+"="+encodeURIComponent(p))}}h.serializeObject=F;function U(l){const c={},p=l.split("&");let y,d;for(let g=0,N=p.length;g<N;++g)y=p[g],d=y.indexOf("="),d===-1?c[decodeURIComponent(y)]="":c[decodeURIComponent(y.slice(0,d))]=decodeURIComponent(y.slice(d+1));return c}h.parseString=U,h.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":u.stringify,"application/json":s},h.parse={"application/x-www-form-urlencoded":U,"application/json":JSON.parse};function z(l){const c=l.split(/\r?\n/),p={};let y,d,g,N;for(let ct=0,Q=c.length;ct<Q;++ct)d=c[ct],y=d.indexOf(":"),y!==-1&&(g=d.slice(0,y).toLowerCase(),N=R(d.slice(y+1)),p[g]=N);return p}function j(l){return/[/+]json($|[^-\w])/i.test(l)}function P(l){this.req=l,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let c=this.xhr.status;c===1223&&(c=204),this._setStatusProperties(c),this.headers=z(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&l._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}m(P.prototype,w.prototype),P.prototype._parseBody=function(l){let c=h.parse[this.type];return this.req._parser?this.req._parser(this,l):(!c&&j(this.type)&&(c=h.parse["application/json"]),c&&l&&(l.length>0||l instanceof Object)?c(l):null)},P.prototype.toError=function(){const l=this.req,c=l.method,p=l.url,y=`cannot ${c} ${p} (${this.status})`,d=new Error(y);return d.status=this.status,d.method=c,d.url=p,d},h.Response=P;function _(l,c){const p=this;this._query=this._query||[],this.method=l,this.url=c,this.header={},this._header={},this.on("end",()=>{let y=null,d=null;try{d=new P(p)}catch(N){return y=new Error("Parser is unable to parse the response"),y.parse=!0,y.original=N,p.xhr?(y.rawResponse=typeof p.xhr.responseType>"u"?p.xhr.responseText:p.xhr.response,y.status=p.xhr.status?p.xhr.status:null,y.statusCode=y.status):(y.rawResponse=null,y.status=null),p.callback(y)}p.emit("response",d);let g;try{p._isResponseOK(d)||(g=new Error(d.statusText||d.text||"Unsuccessful HTTP response"))}catch(N){g=N}g?(g.original=y,g.response=d,g.status=g.status||d.status,p.callback(g,d)):p.callback(null,d)})}a(_.prototype),m(_.prototype,f.prototype),_.prototype.type=function(l){return this.set("Content-Type",h.types[l]||l),this},_.prototype.accept=function(l){return this.set("Accept",h.types[l]||l),this},_.prototype.auth=function(l,c,p){arguments.length===1&&(c=""),typeof c=="object"&&c!==null&&(p=c,c=""),p||(p={type:typeof btoa=="function"?"basic":"auto"});const y=p.encoder?p.encoder:d=>{if(typeof btoa=="function")return btoa(d);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(l,c,p,y)},_.prototype.query=function(l){return typeof l!="string"&&(l=F(l)),l&&this._query.push(l),this},_.prototype.attach=function(l,c,p){if(c){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(l,c,p||c.name)}return this},_.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},_.prototype.callback=function(l,c){if(this._shouldRetry(l,c))return this._retry();const p=this._callback;this.clearTimeout(),l&&(this._maxRetries&&(l.retries=this._retries-1),this.emit("error",l)),p(l,c)},_.prototype.crossDomainError=function(){const l=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);l.crossDomain=!0,l.status=this.status,l.method=this.method,l.url=this.url,this.callback(l)},_.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},_.prototype.ca=_.prototype.agent,_.prototype.buffer=_.prototype.ca,_.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},_.prototype.pipe=_.prototype.write,_.prototype._isHost=function(l){return l&&typeof l=="object"&&!Array.isArray(l)&&Object.prototype.toString.call(l)!=="[object Object]"},_.prototype.end=function(l){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=l||k,this._finalizeQueryString(),this._end()},_.prototype._setUploadTimeout=function(){const l=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{l._timeoutError("Upload timeout of ",l._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},_.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const l=this;this.xhr=h.getXHR();const c=this.xhr;let p=this._formData||this._data;this._setTimeouts(),c.addEventListener("readystatechange",()=>{const d=c.readyState;if(d>=2&&l._responseTimeoutTimer&&clearTimeout(l._responseTimeoutTimer),d!==4)return;let g;try{g=c.status}catch{g=0}if(!g)return l.timedout||l._aborted?void 0:l.crossDomainError();l.emit("end")});const y=(d,g)=>{g.total>0&&(g.percent=g.loaded/g.total*100,g.percent===100&&clearTimeout(l._uploadTimeoutTimer)),g.direction=d,l.emit("progress",g)};if(this.hasListeners("progress"))try{c.addEventListener("progress",y.bind(null,"download")),c.upload&&c.upload.addEventListener("progress",y.bind(null,"upload"))}catch{}c.upload&&this._setUploadTimeout();try{this.username&&this.password?c.open(this.method,this.url,!0,this.username,this.password):c.open(this.method,this.url,!0)}catch(d){return this.callback(d)}if(this._withCredentials&&(c.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof p!="string"&&!this._isHost(p)){const d=this._header["content-type"];let g=this._serializer||h.serialize[d?d.split(";")[0]:""];!g&&j(d)&&(g=h.serialize["application/json"]),g&&(p=g(p))}for(const d in this.header)this.header[d]!==null&&S(this.header,d)&&c.setRequestHeader(d,this.header[d]);this._responseType&&(c.responseType=this._responseType),this.emit("request",this),c.send(typeof p>"u"?null:p)},h.agent=()=>new I;for(var L=0,H=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];L<H.length;L++){const l=H[L];I.prototype[l.toLowerCase()]=function(c,p){const y=new h.Request(l,c);return this._setDefaults(y),p&&y.end(p),y}}I.prototype.del=I.prototype.delete,h.get=(l,c,p)=>{const y=h("GET",l);return typeof c=="function"&&(p=c,c=null),c&&y.query(c),p&&y.end(p),y},h.head=(l,c,p)=>{const y=h("HEAD",l);return typeof c=="function"&&(p=c,c=null),c&&y.query(c),p&&y.end(p),y},h.options=(l,c,p)=>{const y=h("OPTIONS",l);return typeof c=="function"&&(p=c,c=null),c&&y.send(c),p&&y.end(p),y};function W(l,c,p){const y=h("DELETE",l);return typeof c=="function"&&(p=c,c=null),c&&y.send(c),p&&y.end(p),y}h.del=W,h.delete=W,h.patch=(l,c,p)=>{const y=h("PATCH",l);return typeof c=="function"&&(p=c,c=null),c&&y.send(c),p&&y.end(p),y},h.post=(l,c,p)=>{const y=h("POST",l);return typeof c=="function"&&(p=c,c=null),c&&y.send(c),p&&y.end(p),y},h.put=(l,c,p)=>{const y=h("PUT",l);return typeof c=="function"&&(p=c,c=null),c&&y.send(c),p&&y.end(p),y}})(kt,kt.exports);var un=kt.exports;const Xe=pt(un);class D{constructor(e="https://api.flyo.cloud/nitro/v1"){this.basePath=e.replace(/\/+$/,""),this.authentications={ApiToken:{type:"apiKey",in:"query",name:"token"}},this.defaultHeaders={"User-Agent":"OpenAPI-Generator/1.0.0-beta.164/Javascript"},this.timeout=6e4,this.cache=!0,this.enableCookies=!1,typeof window>"u"&&(this.agent=new Xe.agent),this.requestAgent=null,this.plugins=null}paramToString(e){return e==null||e==null?"":e instanceof Date?e.toJSON():D.canBeJsonified(e)?JSON.stringify(e):e.toString()}static canBeJsonified(e){if(typeof e!="string"&&typeof e!="object")return!1;try{const r=e.toString();return r==="[object Object]"||r==="[object Array]"}catch{return!1}}buildUrl(e,r,o){e.match(/^\//)||(e="/"+e);var n=this.basePath+e;return o!=null&&(n=o+e),n=n.replace(/\{([\w-\.]+)\}/g,(i,a)=>{var s;return r.hasOwnProperty(a)?s=this.paramToString(r[a]):s=i,encodeURIComponent(s)}),n}isJsonMime(e){return!!(e!=null&&e.match(/^application\/json(;.*)?$/i))}jsonPreferredMime(e){for(var r=0;r<e.length;r++)if(this.isJsonMime(e[r]))return e[r];return e[0]}isFileParam(e){if(typeof require=="function"){let r;try{r=require("fs")}catch{}if(r&&r.ReadStream&&e instanceof r.ReadStream)return!0}return typeof Buffer=="function"&&e instanceof Buffer||typeof Blob=="function"&&e instanceof Blob||typeof File=="function"&&e instanceof File}normalizeParams(e){var r={};for(var o in e)if(e.hasOwnProperty(o)&&e[o]!=null&&e[o]!=null){var n=e[o];this.isFileParam(n)||Array.isArray(n)?r[o]=n:r[o]=this.paramToString(n)}return r}buildCollectionParam(e,r){if(e==null)return null;switch(r){case"csv":return e.map(this.paramToString,this).join(",");case"ssv":return e.map(this.paramToString,this).join(" ");case"tsv":return e.map(this.paramToString,this).join("	");case"pipes":return e.map(this.paramToString,this).join("|");case"multi":return e.map(this.paramToString,this);case"passthrough":return e;default:throw new Error("Unknown collection format: "+r)}}applyAuthToRequest(e,r){r.forEach(o=>{var n=this.authentications[o];switch(n.type){case"basic":(n.username||n.password)&&e.auth(n.username||"",n.password||"");break;case"bearer":if(n.accessToken){var i=typeof n.accessToken=="function"?n.accessToken():n.accessToken;e.set({Authorization:"Bearer "+i})}break;case"apiKey":if(n.apiKey){var a={};n.apiKeyPrefix?a[n.name]=n.apiKeyPrefix+" "+n.apiKey:a[n.name]=n.apiKey,n.in==="header"?e.set(a):e.query(a)}break;case"oauth2":n.accessToken&&e.set({Authorization:"Bearer "+n.accessToken});break;default:throw new Error("Unknown authentication type: "+n.type)}})}deserialize(e,r){if(e==null||r==null||e.status==204)return null;var o=e.body;return(o==null||typeof o=="object"&&typeof o.length>"u"&&!Object.keys(o).length)&&(o=e.text),D.convertToType(o,r)}callApi(e,r,o,n,i,a,s,u,f,b,v,m){var S=this.buildUrl(e,o,m),w=Xe(r,S);if(this.plugins!==null)for(var I in this.plugins)this.plugins.hasOwnProperty(I)&&w.use(this.plugins[I]);this.applyAuthToRequest(w,u),r.toUpperCase()==="GET"&&this.cache===!1&&(n._=new Date().getTime()),w.query(this.normalizeParams(n)),w.set(this.defaultHeaders).set(this.normalizeParams(i)),this.requestAgent&&w.agent(this.requestAgent),w.timeout(this.timeout);var k=this.jsonPreferredMime(f);if(k&&k!="multipart/form-data"&&w.type(k),k==="application/x-www-form-urlencoded")w.send(we.stringify(this.normalizeParams(a)));else if(k=="multipart/form-data"){var h=this.normalizeParams(a);for(var R in h)if(h.hasOwnProperty(R)){let E=h[R];this.isFileParam(E)?w.attach(R,E):Array.isArray(E)&&E.length&&this.isFileParam(E[0])?E.forEach(U=>w.attach(R,U)):w.field(R,E)}}else s!=null&&(w.header["Content-Type"]||w.type("application/json"),w.send(s));var F=this.jsonPreferredMime(b);return F&&w.accept(F),v==="Blob"?w.responseType("blob"):v==="String"&&w.responseType("text"),this.enableCookies&&(typeof window>"u"?this.agent._attachCookies(w):w.withCredentials()),new Promise((E,U)=>{w.end((z,j)=>{if(z){var P={};j&&(P.status=j.status,P.statusText=j.statusText,P.body=j.body,P.response=j),P.error=z,U(P)}else try{var _=this.deserialize(j,v);this.enableCookies&&typeof window>"u"&&this.agent._saveCookies(j),E({data:_,response:j})}catch(L){U(L)}})})}static parseDate(e){return isNaN(e)?new Date(e.replace(/(\d)(T)(\d)/i,"$1 $3")):new Date(+e)}static convertToType(e,r){if(e==null)return e;switch(r){case"Boolean":return!!e;case"Integer":return parseInt(e,10);case"Number":return parseFloat(e);case"String":return String(e);case"Date":return D.parseDate(String(e));case"Blob":return e;default:if(r===Object)return e;if(typeof r.constructFromObject=="function")return r.constructFromObject(e);if(Array.isArray(r)){var o=r[0];return e.map(b=>D.convertToType(b,o))}else if(typeof r=="object"){var n,i;for(var a in r)if(r.hasOwnProperty(a)){n=a,i=r[a];break}var s={};for(var a in e)if(e.hasOwnProperty(a)){var u=D.convertToType(a,n),f=D.convertToType(e[a],i);s[u]=f}return s}else return e}}hostSettings(){return[{url:"https://api.flyo.cloud/nitro/{version}",description:"Production Server",variables:{version:{description:"The api version currently supported is `v1`",default_value:"v1"}}}]}getBasePathFromSettings(e,r={}){var o=this.hostSettings();if(e<0||e>=o.length)throw new Error("Invalid index "+e+" when selecting the host settings. Must be less than "+o.length);var n=o[e],i=n.url;for(var a in n.variables)if(a in r){let s=n.variables[a];if(!("enum_values"in s)||s.enum_values.includes(r[a]))i=i.replace("{"+a+"}",r[a]);else throw new Error("The variable `"+a+"` in the host URL has invalid value "+r[a]+". Must be "+n.variables[a].enum_values+".")}else i=i.replace("{"+a+"}",n.variables[a].default_value);return i}static constructFromObject(e,r,o){if(Array.isArray(e))for(var n=0;n<e.length;n++)e.hasOwnProperty(n)&&(r[n]=D.convertToType(e[n],o));else for(var i in e)e.hasOwnProperty(i)&&(r[i]=D.convertToType(e[i],o))}}D.CollectionFormatEnum={CSV:",",SSV:" ",TSV:"	",PIPES:"|",MULTI:"multi"},D.instance=new D;const cn=/[\p{Lu}]/u,pn=/[\p{Ll}]/u,Ze=/^[\p{Lu}](?![\p{Lu}])/gu,Ye=/([\p{Alpha}\p{N}_]|$)/u,ae=/[_.\- ]+/,fn=new RegExp("^"+ae.source),tr=new RegExp(ae.source+Ye.source,"gu"),er=new RegExp("\\d+"+Ye.source,"gu"),yn=(t,e,r,o)=>{let n=!1,i=!1,a=!1,s=!1;for(let u=0;u<t.length;u++){const f=t[u];s=u>2?t[u-3]==="-":!0,n&&cn.test(f)?(t=t.slice(0,u)+"-"+t.slice(u),n=!1,a=i,i=!0,u++):i&&a&&pn.test(f)&&(!s||o)?(t=t.slice(0,u-1)+"-"+t.slice(u-1),a=i,i=!1,n=!0):(n=e(f)===f&&r(f)!==f,a=i,i=r(f)===f&&e(f)!==f)}return t},hn=(t,e)=>(Ze.lastIndex=0,t.replace(Ze,r=>e(r))),dn=(t,e)=>(tr.lastIndex=0,er.lastIndex=0,t.replace(tr,(r,o)=>e(o)).replace(er,r=>e(r)));function mn(t,e){if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(i=>i.trim()).filter(i=>i.length).join("-"):t=t.trim(),t.length===0)return"";const r=e.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(e.locale),o=e.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(e.locale);return t.length===1?ae.test(t)?"":e.pascalCase?o(t):r(t):(t!==r(t)&&(t=yn(t,r,o,e.preserveConsecutiveUppercase)),t=t.replace(fn,""),t=e.preserveConsecutiveUppercase?hn(t,r):r(t),e.pascalCase&&(t=o(t.charAt(0))+t.slice(1)),dn(t,o))}function bn(t,e,r){const o="virtual:flyo-components",n="\0"+o;return{name:"vite-plugin-flyo-components",async resolveId(i){if(i===o)return n},async load(i){if(i===n){const a=[];for(const[u,f]of Object.entries(e)){const b=await this.resolve("/"+t+"/"+f+".astro");b&&a.push(`export { default as ${mn(u)} } from "${b.id}"`)}let s=null;return r&&(s=await this.resolve("/"+t+"/"+r+".astro")),s?a.push(`export { default as fallback } from "${s.id}"`):a.push('export { default as fallback } from "@flyo/nitro-astro/src/components/FallbackComponent.astro"'),a.join(";")}}}}function gn(){return globalThis.flyoNitroInstance||console.error("flyoNitroInstance has not been initialized correctly"),globalThis.flyoNitroInstance}function vn(t){const e={accessToken:!1,liveEdit:!1,fallbackComponent:null,...t};return{name:"@flyo/nitro-astro",hooks:{"astro:config:setup":({injectScript:r,updateConfig:o})=>{o({vite:{plugins:[bn(t.componentsDir,t.components,t.fallbackComponent)]}}),r("page-ssr",`
            import { ApiClient } from '@flyo/nitro-js'
            var defaultClient = ApiClient.instance;
            defaultClient.defaultHeaders = {}

            let ApiToken = defaultClient.authentications['ApiToken'];
            ApiToken.apiKey = '${e.accessToken}';

            globalThis.flyoNitroInstance = defaultClient;
          `),e.liveEdit&&r("page",`
              window.addEventListener("message", (event) => {
                if (event.data?.action === 'pageRefresh') {
                    window.location.reload(true);
                }
              })

              function getActualWindow() {
                if (window === window.top) {
                  return window;
                } else if (window.parent) {
                  return window.parent;
                }
                return window;
              }

              window.openBlockInFlyo = function(blockUid) {
                getActualWindow().postMessage({
                    action: 'openEdit',
                    data: JSON.parse(JSON.stringify({item:{uid: blockUid}}))
                }, 'https://flyo.cloud')
              }
            `)}}}}K.default=vn,K.useFlyoNitro=gn,Object.defineProperties(K,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
